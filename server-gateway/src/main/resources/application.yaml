server:
  port: 80
spring:
  cloud:
    sentinel:
      enabled: true
    gateway:
        globalcors:
          cors-configurations:
            '[/**]':
              allowedOrigins: "*"  #允许所有来源访问
              allowedMethods: "*"  #允许所有请求方式跨域访问
              allowedHeaders: "*"
        routes:
          - id: product_route
            uri: lb://service-product
            predicates:
              - Path=/admin/product/**

          - id: user_route
            uri: lb://service-user
            predicates:
              - Path=/api/user/**

          - id: cart_route
            uri: lb://service-cart
            predicates:
              - Path=/api/cart/**

          - id: order_route
            uri: lb://service-order
            predicates:
              - Path=/api/order/**

          - id: pay_route
            uri: lb://service-pay
            predicates:
              - Path=/api/payment/**

          - id: front_route    #所有 域名的请求都来到 web-front 前端
            uri: lb://web-front
            predicates:
              - Host=**.gmall.com

app:
  auth:
    login-page: http://passport.gmall.com/login.html
    login-url:
      - /order/**
      - /trade.html
      - /**/auth/**
      - /api/payment/**
    no-auth-url:
      - /rpc/inner/**   #内部的rpc请求浏览器不能直接访问